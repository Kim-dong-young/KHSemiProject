<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="selectListCount">
		SELECT COUNT(*) AS COUNT
		  FROM COMMUNITY
	</entry>
	
	<entry key="selectList">
		SELECT *
		FROM
		(
		    SELECT COMMUNITY_NUMBER,
		       COMMUNITY_TITLE,
		       TAB_NAME,
		       COMMUNITY_VIEWCOUNT,
		       COMMUNITY_DATE,
		       MEMBER_NICKNAME,
		       COUNT(COMMUNITY_COMMENT_NUMBER) AS COMMENT_COUNT,  -- 댓글 수 카운트
		       ROW_NUMBER() OVER(ORDER BY COMMUNITY_DATE DESC) AS RNUM
		    FROM COMMUNITY
		    JOIN COMMUNITY_TAB USING(TAB_NUMBER)
		    JOIN MEMBER USING(MEMBER_NUMBER)
		    LEFT JOIN COMMUNITY_COMMENT USING(COMMUNITY_NUMBER)
		    GROUP BY COMMUNITY_TAB.TAB_NAME, COMMUNITY_NUMBER, COMMUNITY_TITLE, TAB_NAME, 
		             COMMUNITY_VIEWCOUNT, COMMUNITY_DATE, MEMBER_NICKNAME
		)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
</properties>